# План работ
**Задача:** протестировать веб-сервис, позволяющий купить тур и оплатить его одним из двух способов:
1. Дебетовой картой
2. В кредит по данным банковской карты Формы для заполнения данных при выборе любого из способов оплаты идентичны, поэтому для проверки и того, и другого варианта покупки тура будут использоваться аналогичные тесты.
## Этапы тестирования сервиса и сроки
Целевой сервис: aqa-shop.jar
1. Ознакомление с сервисом и настройка рабочего пространства в Идее - 3 часа
2. Определение плана работ - 5 часов
3. Определение и реализация позитивных сценариев - 30 часов
4. Определение и реализация негативных сценариев - 30 часов
5. Оформление баг-репортов - 10 часов
6. Подготовка отчетных документов и сдача проекта на проверку -8 часов


**Исходные данные:**
1. Валидный номер карты (APPROVED) - 4444 4444 4444 4441;
2. Невалидный номер карты (DECLINED) - 4444 4444 4444 4442;

***

## Перечень автоматизируемых сценариев:


* **Позитивные сценарии**

### 1. Успешная оплата тура дебетовой картой с заполнением всех полей валидными данными:
   1. Открыть страницу покупки тура http://localhost:8080/ (ссылка откроется только при запущенной SUT)
   2. Нажать на кнопку «Купить»
   3. Ввести в поля валидные тестовые данные:
   * Номер карты: 4444 4444 4444 4441
   * Месяц: 09
   * Год: 24
   * Владелец: IVAN PETROV
   * CVC/CVV: 898
   4. Нажать на кнопку «Продолжить»

   *Ожидаемый результат:* данные успешно отправлены, в правом верхнем углу экрана всплывает окно с текстом «Успешно Операция одобрена банком»,  в БД статус APPROVED.
### 2. Ошибка при оплате тура дебетовой картой с невалидным номером

1. Открыть страницу покупки тура http://localhost:8080/ (ссылка откроется только при запущенной SUT)
2. Нажать на кнопку «Купить»
3 Ввести в поля валидные тестовые данные (кроме номера карты, он должен быть невалидным):
* Номер карты: 4444 4444 4444 4442
* Месяц: 09
* Год: 24
* Владелец: IVAN PETROV
* CVC/CVV: 898
4. Нажать на кнопку «Продолжить»

*Ожидаемый результат:* сервис отклоняет отправку данных, в правом верхнем углу экрана всплывает окно с текстом «Ошибка Ошибка! Банк отказал в проведении операции», в БД статус DECLINED.
### 3. Успешная оплата тура дебетовой картой при вводе в поле «Владелец» двойной фамилии с дефисом:
   1. Открыть страницу покупки тура http://localhost:8080/ (ссылка откроется только при запущенной SUT)
   2. Нажать на кнопку «Купить»
   3. Ввести в поля валидные тестовые данные (кроме номера карты, он должен быть невалидным):
   * Номер карты: 4444 4444 4444 4441
   * Месяц: 09
   * Год: 24
   * Владелец: IVAN PETROV-VODKIN
   * CVC/CVV: 898
   4. Нажать на кнопку «Продолжить»

   *Ожидаемый результат:* данные успешно отправлены, в правом верхнем углу экрана всплывает окно с текстом «Успешно Операция одобрена банком», в БД статус APPROVED.
### 4. Успешная оплата тура дебетовой картой при вводе в поле «Владелец» фамилии с апострофом:
1. Открыть страницу покупки тура http://localhost:8080/ (ссылка откроется только при запущенной SUT)
2. Нажать на кнопку «Купить»
3. Ввести в поля валидные тестовые данные (кроме номера карты, он должен быть невалидным):
* Номер карты: 4444 4444 4444 4441
* Месяц: 09
* Год: 24
* Владелец: IVAN D’ARTANIYAN
* CVC/CVV: 898
4. Нажать на кнопку «Продолжить»

*Ожидаемый результат:* данные успешно отправлены, в правом верхнем углу экрана всплывает окно с текстом «Успешно Операция одобрена банком», в БД статус APPROVED.
   

**Все приведенные выше сценарии повторить со вкладкой «Купить в кредит».**
   

***

* **Негативные сценарии**


### 1. Уведомление об ошибке при отправке формы с пустыми полями:
1. Открыть страницу покупки тура http://localhost:8080/ (ссылка откроется только при запущенной SUT)
2. Нажать на кнопку «Купить»
3. Оставить все поля формы незаполненными:
* Номер карты:
* Месяц:
* Год:
* Владелец:
* CVC/CVV:
4. Нажать на кнопку «Продолжить»

*Ожидаемый результат:* данные пользователя не отправляются, все поля подсвечиваются красным цветом, под полями появляются сообщения с текстом «Поле обязательно для заполнения».
### 2. Уведомление об ошибке при вводе в поле «Номер карты» 15 символов вместо 16:
   1. Открыть страницу покупки тура http://localhost:8080/ (ссылка откроется только при запущенной SUT)
   2. Нажать на кнопку «Купить»
   3. Ввести в поля валидные тестовые данные (кроме номера карты, он должен состоять из 15 символов):
   * Номер карты: 4444 4444 4444 444
   * Месяц: 09
   * Год: 24
   * Владелец: IVAN PETROV
   * CVC/CVV: 898
   4. Нажать на кнопку «Продолжить»

   *Ожидаемый результат:* данные пользователя не отправляются, поле «Номер карты» подсвечивается красным цветом, под полем появляется сообщение с текстом «Неверный формат».
### 3. Уведомление об ошибке при вводе в поле «Номер карты» 16 нулей:
1. Открыть страницу покупки тура http://localhost:8080/ (ссылка откроется только при запущенной SUT)
2. Нажать на кнопку «Купить»
3. Ввести в поля валидные тестовые данные (кроме номера карты, он должен состоять из 16 нулей):
* Номер карты: 0000 0000 0000 0000
* Месяц: 09
* Год: 24
* Владелец: IVAN PETROV
* CVC/CVV: 898
4. Нажать на кнопку «Продолжить»

*Ожидаемый результат:* данные пользователя не отправляются, поле «Номер карты» подсвечивается красным цветом, под полем появляется сообщение с текстом «Неверный формат».
### 4. Уведомление об ошибке при незаполненном поле «Номер карты»:
1. Открыть страницу покупки тура http://localhost:8080/ (ссылка откроется только при запущенной SUT)
2. Нажать на кнопку «Купить»
3. Ввести в поля валидные тестовые данные (поле «Номер карты» оставить пустым):
* Номер карты:
* Месяц: 09
* Год: 24
* Владелец: IVAN PETROV
* CVC/CVV: 898
4. Нажать на кнопку «Продолжить»

*Ожидаемый результат:* данные пользователя не отправляются, поле «Номер карты» подсвечивается красным цветом, под полем появляется сообщение с текстом «Неверный формат».
### 5. Уведомление об ошибке при вводе поле «Месяц» двух нулей:
1. Открыть страницу покупки тура http://localhost:8080/ (ссылка откроется только при запущенной SUT)
2. Нажать на кнопку «Купить»
3. Ввести в поля валидные тестовые данные (кроме поля «Месяц»):
* Номер карты: 4444 4444 4444 4441
* Месяц: 00
* Год: 24
* Владелец: IVAN PETROV
* CVC/CVV: 898
4. Нажать на кнопку «Продолжить»

*Ожидаемый результат:* данные пользователя не отправляются, поле «Месяц» подсвечивается красным цветом, под полем появляется сообщение с текстом «Неверно указан срок действия карты».
### 6. Уведомление об ошибке при вводе поле «Месяц» числа 13:
1. Открыть страницу покупки тура http://localhost:8080/ (ссылка откроется только при запущенной SUT)
2. Нажать на кнопку «Купить»
3. Ввести в поля валидные тестовые данные (кроме поля «Месяц»):
* Номер карты: 4444 4444 4444 4441
* Месяц: 13
* Год: 24
* Владелец: IVAN PETROV
* CVC/CVV: 898
4. Нажать на кнопку «Продолжить»

*Ожидаемый результат:* данные пользователя не отправляются, поле «Месяц» подсвечивается красным цветом, под полем появляется сообщение с текстом «Неверно указан срок действия карты».
### 7. Уведомление об ошибке при незаполненном поле «Месяц»:
1. Открыть страницу покупки тура http://localhost:8080/ (ссылка откроется только при запущенной SUT)
2. Нажать на кнопку «Купить»
3. Ввести в поля валидные тестовые данные (поле «Месяц» оставить пустым):
* Номер карты: 4444 4444 4444 4441
* Месяц:
* Год: 24
* Владелец: IVAN PETROV
* CVC/CVV: 898
4. Нажать на кнопку «Продолжить»

*Ожидаемый результат:* данные пользователя не отправляются, поле «Месяц» подсвечивается красным цветом, под полем появляется сообщение с текстом «Неверный формат».
### 8. Уведомление об ошибке при вводе поле «Год» двух нулей:
1. Открыть страницу покупки тура http://localhost:8080/ (ссылка откроется только при запущенной SUT)
2. Нажать на кнопку «Купить»
3. Ввести в поля валидные тестовые данные (кроме поля «Год»):
* Номер карты: 4444 4444 4444 4441
* Месяц: 09
* Год: 00
* Владелец: IVAN PETROV
* CVC/CVV: 898
4. Нажать на кнопку «Продолжить»

*Ожидаемый результат:* данные пользователя не отправляются, поле «Год» подсвечивается красным цветом, под полем появляется сообщение с текстом «Истёк срок действия карты».
### 9. Уведомление об ошибке при вводе поле «Год» числа 29 (текущий год + 6 лет):
1. Открыть страницу покупки тура http://localhost:8080/ (ссылка откроется только при запущенной SUT)
2. Нажать на кнопку «Купить»
3. Ввести в поля валидные тестовые данные (кроме поля «Год»):
* Номер карты: 4444 4444 4444 4441
* Месяц: 09
* Год: 29
* Владелец: IVAN PETROV
* CVC/CVV: 898
4. Нажать на кнопку «Продолжить»

*Ожидаемый результат:* данные пользователя не отправляются, поле «Год» подсвечивается красным цветом, под полем появляется сообщение с текстом «Неверно указан срок действия карты».
### 10. Уведомление об ошибке при вводе поле «Год» числа 22:
1. Открыть страницу покупки тура http://localhost:8080/ (ссылка откроется только при запущенной SUT)
2. Нажать на кнопку «Купить»
3. Ввести в поля валидные тестовые данные (кроме поля «Год»):
* Номер карты: 4444 4444 4444 4441
* Месяц: 09
* Год: 22
* Владелец: IVAN PETROV
* CVC/CVV: 898
4. Нажать на кнопку «Продолжить»

*Ожидаемый результат:* данные пользователя не отправляются, поле «Год» подсвечивается красным цветом, под полем появляется сообщение с текстом «Истёк срок действия карты».
### 11. Уведомление об ошибке при незаполненном поле «Год»:
1. Открыть страницу покупки тура http://localhost:8080/ (ссылка откроется только при запущенной SUT)
2. Нажать на кнопку «Купить»
3. Ввести в поля валидные тестовые данные (поле «Год» оставить пустым):
* Номер карты: 4444 4444 4444 4441
* Месяц: 09
* Год:
* Владелец: IVAN PETROV
* CVC/CVV: 898
4. Нажать на кнопку «Продолжить»

*Ожидаемый результат:* данные пользователя не отправляются, поле «Год» подсвечивается красным цветом, под полем появляется сообщение с текстом «Неверный формат».
### 12. Уведомление об ошибке при незаполненном поле «Владелец»:
1. Открыть страницу покупки тура http://localhost:8080/ (ссылка откроется только при запущенной SUT)
2. Нажать на кнопку «Купить»
3. Ввести в поля валидные тестовые данные (кроме поля «Владелец», оно остается незаполненным): • Номер карты: 4444 4444 4444 4441 • Месяц: 09 • Год: 24 • Владелец: • CVC/CVV: 898
4. Нажать на кнопку «Продолжить»

*Ожидаемый результат:* данные пользователя не отправляются, поле «Владелец» подсвечивается красным цветом, под полем появляется сообщение с текстом «Поле обязательно для заполнения».
### 13. Уведомление об ошибке при вводе поле «Владелец» одной буквы:
1. Открыть страницу покупки тура http://localhost:8080/ (ссылка откроется только при запущенной SUT)
2. Нажать на кнопку «Купить»
3. Ввести в поля валидные тестовые данные (кроме поля «Владелец»):
* Номер карты: 4444 4444 4444 4441
* Месяц: 09
* Год: 24
* Владелец: I
* CVC/CVV: 898
4. Нажать на кнопку «Продолжить»

*Ожидаемый результат:* данные пользователя не отправляются, поле «Владелец» подсвечивается красным цветом, под полем появляется сообщение с текстом «Неверный формат».
### 14. Уведомление об ошибке при вводе поле «Владелец» двух букв:
1. Открыть страницу покупки тура http://localhost:8080/ (ссылка откроется только при запущенной SUT)
2. Нажать на кнопку «Купить»
3. Ввести в поля валидные тестовые данные (кроме поля «Владелец»):
* Номер карты: 4444 4444 4444 4441
* Месяц: 09
* Год: 24
* Владелец: IV
* CVC/CVV: 898
4. Нажать на кнопку «Продолжить»

*Ожидаемый результат:* данные пользователя не отправляются, поле «Владелец» подсвечивается красным цветом, под полем появляется сообщение с текстом «Неверный формат».
### 15. Уведомление об ошибке при вводе поле «Владелец» знака тире:
1. Открыть страницу покупки тура http://localhost:8080/ (ссылка откроется только при запущенной SUT)
2. Нажать на кнопку «Купить»
3. Ввести в поля валидные тестовые данные (кроме поля «Владелец»):
* Номер карты: 4444 4444 4444 4441
* Месяц: 09
* Год: 24
* Владелец: -
* CVC/CVV: 898
4. Нажать на кнопку «Продолжить»

*Ожидаемый результат:* данные пользователя не отправляются, поле «Владелец» подсвечивается красным цветом, под полем появляется сообщение с текстом «Неверный формат».
### 16. Уведомление об ошибке при вводе поле «Владелец» 80 символов:
1. Открыть страницу покупки тура http://localhost:8080/ (ссылка откроется только при запущенной SUT)
2. Нажать на кнопку «Купить»
3. Ввести в поля валидные тестовые данные (кроме поля «Владелец»):
* Номер карты: 4444 4444 4444 4441
* Месяц: 09
* Год: 24
* Владелец: FDGRGFBGFTHRTRHRHGYDSARTYFVGARFGTHYUIJKO FDGRGFBGFTHRTRHRHGYDSARTYFVGARFGTHYUIJK
* CVC/CVV: 898
4. Нажать на кнопку «Продолжить»

*Ожидаемый результат:* данные пользователя не отправляются, поле «Владелец» подсвечивается красным цветом, под полем появляется сообщение с текстом «Неверный формат».
### 17. Уведомление об ошибке при вводе поле «Владелец» цифр:
1. Открыть страницу покупки тура http://localhost:8080/ (ссылка откроется только при запущенной SUT)
2. Нажать на кнопку «Купить»
3. Ввести в поля валидные тестовые данные (кроме поля «Владелец»):
* Номер карты: 4444 4444 4444 4441
* Месяц: 09
* Год: 24
* Владелец: 932497 2343534
* CVC/CVV: 898
4. Нажать на кнопку «Продолжить»

*Ожидаемый результат:* данные пользователя не отправляются, поле «Владелец» подсвечивается красным цветом, под полем появляется сообщение с текстом «Неверный формат».

### 18. Уведомление об ошибке при вводе в поле «Владелец» фамилии кириллицей:
1. Открыть страницу покупки тура http://localhost:8080/ (ссылка откроется только при запущенной SUT)
2. Нажать на кнопку «Купить»
3. Ввести в поля валидные тестовые данные (кроме поля «Владелец»):
* Номер карты: 4444 4444 4444 4441
* Месяц: 09
* Год: 24
* Владелец: ИВАН ПЕТРОВ
* CVC/CVV: 898
4. Нажать на кнопку «Продолжить»

*Ожидаемый результат:* данные пользователя не отправляются, поле «Владелец» подсвечивается красным цветом, под полем появляется сообщение с текстом «Неверный формат».

### 19. Уведомление об ошибке при вводе поле «CVC/CVV» одной цифры:
1. Открыть страницу покупки тура http://localhost:8080/ (ссылка откроется только при запущенной SUT)
2. Нажать на кнопку «Купить»
3. Ввести в поля валидные тестовые данные (кроме поля «CVC/CVV»):
* Номер карты: 4444 4444 4444 4441
* Месяц: 09
* Год: 24
* Владелец: IVAN PETROV
* CVC/CVV: 8
4. Нажать на кнопку «Продолжить»

*Ожидаемый результат:* данные пользователя не отправляются, поле «CVC/CVV» подсвечивается красным цветом, под полем появляется сообщение с текстом «Неверный формат».
### 20. Уведомление об ошибке при вводе поле «CVC/CVV» двух цифр:
1. Открыть страницу покупки тура http://localhost:8080/ (ссылка откроется только при запущенной SUT)
2. Нажать на кнопку «Купить»
3. Ввести в поля валидные тестовые данные (кроме поля «CVC/CVV»):
* Номер карты: 4444 4444 4444 4441
* Месяц: 09
* Год: 24
* Владелец: IVAN PETROV
* CVC/CVV: 89
4. Нажать на кнопку «Продолжить»

*Ожидаемый результат:* данные пользователя не отправляются, поле «CVC/CVV» подсвечивается красным цветом, под полем появляется сообщение с текстом «Неверный формат».
### 21. Уведомление об ошибке при вводе поле «CVC/CVV» трёх нулей:
1. Открыть страницу покупки тура http://localhost:8080/ (ссылка откроется только при запущенной SUT)
2. Нажать на кнопку «Купить»
3. Ввести в поля валидные тестовые данные (кроме поля «CVC/CVV»):
* Номер карты: 4444 4444 4444 4441
* Месяц: 09
* Год: 24
* Владелец: IVAN PETROV
* CVC/CVV: 000
4. Нажать на кнопку «Продолжить»

*Ожидаемый результат:* данные пользователя не отправляются, поле «CVC/CVV» подсвечивается красным цветом, под полем появляется сообщение с текстом «Неверный формат».
### 22. Уведомление об ошибке при незаполненном поле «CVC/CVV»:
1. Открыть страницу покупки тура http://localhost:8080/ (ссылка откроется только при запущенной SUT)
2. Нажать на кнопку «Купить»
3. Ввести в поля валидные тестовые данные (кроме поля «CVC/CVV»):
* Номер карты: 4444 4444 4444 4441
* Месяц: 09
* Год: 24
* Владелец: IVAN PETROV
* CVC/CVV:
4. Нажать на кнопку «Продолжить»

*Ожидаемый результат:* данные пользователя не отправляются, поле «CVC/CVV» подсвечивается красным цветом, под полем появляется сообщение с текстом «Неверный формат».


**Все приведенные выше сценарии повторить со вкладкой «Купить в кредит».**

***

## Перечень используемых инструментов:

1. IntelliJ IDEA – популярная интегрированная среда разработки ПО, в которой в частности удобно писать код для авто-тестов. IntelliJ IDEA незаменима и очень полезна для новичков в IT, поскольку она находит и подчеркивает ошибки в коде, предлагает варианты их исправления, автоматически дополняет код исходя из контекста, предоставляет инструменты для проведения автоматического тестирования и анализа полученных по итогам тестирования результатов.
2. JDK 11 – Java является одним из наиболее популярных и востребованных языков программирования. Два главных преимущества Java: а) его универсальность – язык применяется для написания широкого спектра программ (веб-приложения, десктопные и мобильные приложения, игры, промышленное программирование и др.); б) его кроссплатформенность, которая обеспечивается т.н. Java Virtual Machine, адаптирующей код под любую ОС.
3. Gradle - система сборки приложений, позволяющая автоматизировать процесс сборки и управлять им. Главная задача Gradle - скомпилировать исходный код в машинный (другими словами в исполняемое приложение). Также Gradle управляет зависимостями, т.е. при необходимости подключает внешние библиотеки. Что важно для тестировщиков, Gradle позволяет выполнять автоматические тесты и получать сообщения об ошибке при их наличии. В IntelliJ IDEA реализована полная интеграция с Gradle.
4. JUnit 5 – один из наиболее популярных фреймворков для написания, запуска и управления автотестами. А также JUnit Jupiter – API для написания модульных тестов с использованием JUnit версии 5. По сравнению с JUnit 4 содержит ряд новых аннотаций (@Test, @BeforeEach, @AfterEach и др. ).
5. Git – одна из наиболее популярных систем контроля версий. Основная функция СКВ – записывать изменения в набор файлов, что позволяет впоследствии вернуться к определенной версии проекта. При помощи Git над одним проектом может работать сразу несколько разработчиков одновременно. У Git есть интеграция с IntelliJ IDEA, что очень удобно.
6. Github – удобный веб-сервис для хранения и управления кодом IT-проектов (в нашем случае автотестов). Особенно удобен для разработки проектов в команде благодаря возможности работать с репозиториями удаленно. 
7. Selenide – автоматизированная система тестирования, основанная на веб-драйвере от Selenium, разработанная для написания стабильных и точных UI-тестов. Главные преимущества данного фреймворка – удобный и лаконичный API, мощные селекторы, автозапуск.
8. Библиотека Lombok - это инструмент, используемый для минимизации / удаления шаблонного кода и экономии времени разработчиков за счет использования аннотаций (конструкторы, геттеры, сеттеры и др.). Таким образом, код становится более читаемым.
9. Docker – открытая платформа, с помощью которой можно автоматизировать создание приложений, их доставку и управление. Docker использует популярную технологию контейнеризации, при которой код приложения, среда запуска, библиотеки и зависимости упаковываются в единую «капсулу» — контейнер Docker. Таким образом, приложение можно будет запускать и тестировать в любой среде.
10. Allure – универсальный фреймворк для создания подробных и понятных всей команде отчетов о тестировании. Очень удобен для визуализации результатов прохождения авто-тестов.

***

## Перечень возможных рисков при автоматизации:
1. Отсутствие ТЗ, документации. Непонятно, какое поведение ожидать от SUT
2. Возможны проблемы с подключением и настройкой тестируемого окружения и СУБД;
3. При обновлении верстки возможно падение тестов
4. Заявлено поддержка двух СУБД (PostgresSql и MySql), возможны сложности в поведении тестов на разных СУБД
5. Большое количество багов, которые увеличат время тестирования.

***

## Интервальная оценка с учетом рисков в часах:
1. Создание и настройка рабочего пространства, запуск SUT - 3 часа
2. Написание плана работ - 5 часов
3. Написание автотестов - 70 часов
4. Подготовка отчетных документов по итогам автоматизированного тестирования - 8 часов
5. Исправление замечаний по итогам обратной связи - 20 часов
6. Подготовка отчетных документов по итогам автоматизации - 4 часа


